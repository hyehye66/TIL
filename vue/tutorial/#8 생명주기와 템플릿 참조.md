# 🔎생명주기와 템플릿 참조

> Vue는 보통 반응형 및 선언적 렌더링으로 모든 DOM 업데이트를 처리한다. 그러나 DOM을 수동으로 작업해야 하는 경우가 있다.
>
> 그때 `ref`를 사용하여 **템플릿 참조**를 요청할 수 있다.

## 컴포넌트 라이프사이클의 주요 단계

| 단계                    | 설명                                                         |
| ----------------------- | ------------------------------------------------------------ |
| **생성 (Creation)**     | 컴포넌트 인스턴스가 생성되고, 초기화 과정을 거친다. 데이터 바인딩, 계산된 속성, 메서드, 감시자(watchers) 등이 설정된다. |
| **마운트 (Mounting)**   | 컴포넌트가 DOM에 삽입되고, `mounted` 훅이 호출된다. 마운트 단계가 완료되면 컴포넌트는 브라우저에 표시되고 사용자와 상호작용할 준비가 된다. UI가 사용자에게 보여지며, DOM 조작이 가능해진다. |
| **업데이트 (Updating)** | 컴포넌트의 데이터가 변경될 때마다 컴포넌트가 다시 렌더링된다. 데이터 변경에 의한 DOM 업데이트가 이루어진다. |
| **소멸 (Destruction)**  | 컴포넌트가 더 이상 필요하지 않을 때, 즉 화면에서 제거될 때 컴포넌트는 소멸된다. 이 때 `beforeDestroy` 및 `destroyed` 훅이 호출되며, 필요한 정리 작업이 수행된다. |

---

## 템플릿 참조와 마운트

| 항목                           | 설명                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| **템플릿 참조(Template Refs)** | 템플릿 내의 DOM 요소나 자식 컴포넌트에 직접적으로 접근하기 위한 방법. 이를 통해 해당 요소나 컴포넌트의 속성, 메서드에 접근할 수 있다. `ref` 속성을 사용하여 참조를 생성한다. |
| **마운트 후 접근**             | 템플릿 참조는 컴포넌트가 마운트된 후에만 접근 가능하다. 마운트는 컴포넌트가 DOM에 삽입되어 완전히 렌더링된 상태를 의미하며, 이 시점 이전에는 참조된 요소에 접근할 수 없다. |

---

## mounted/onMounted

- `mounted`: 옵션 API에서 사용되며, 컴포넌트 객체의 일부로 정의된다.
- `onMounted`: Composition API에서 사용되며, `setup` 함수 내에서 호출된다.

- Vue 컴포넌트 라이프사이클의 한 단계.
- 컴포넌트가 DOM에 삽입되어 사용자에게 보여질 준비가 완료된 상태. `mounted`/`onMounted`에 전달되는 콜백 함수는 컴포넌트가 마운트된 직후에 호출된다.

---

```vue
<script setup>
import { ref, onMounted } from 'vue' 

const pElementRef = ref(null) // p 태그에 대한 참조를 저장하기 위한 반응형 참조를 생성.

onMounted(() => {
  pElementRef.value.textContent = '마운트 되었어요!' // 컴포넌트가 마운트되면 p 태그의 텍스트 내용을 변경.
})
</script>

<template>
  <p ref="pElementRef">안녕</p> <!-- p 태그에 ref 속성을 사용하여 pElementRef 참조를 연결. -->
</template>

```

